{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Brand Contract Schema",
  "description": "Defines the complete contract for brand data including assets, categories, and display rules",
  "type": "object",
  "required": ["brand_id", "brand_name", "version", "assets", "categories", "display_rules"],
  "properties": {
    "brand_id": {
      "type": "string",
      "description": "Unique brand identifier (lowercase, hyphenated)"
    },
    "brand_name": {
      "type": "string",
      "description": "Official brand name"
    },
    "version": {
      "type": "string",
      "description": "Contract version (semantic versioning)"
    },
    "last_updated": {
      "type": "string",
      "format": "date-time"
    },
    "assets": {
      "type": "object",
      "description": "Brand visual identity and assets",
      "required": ["logo", "colors"],
      "properties": {
        "logo": {
          "type": "object",
          "properties": {
            "primary_svg": {"type": "string", "format": "uri"},
            "alternate_svg": {"type": "string", "format": "uri"},
            "png_300": {"type": "string", "format": "uri"},
            "png_600": {"type": "string", "format": "uri"},
            "favicon": {"type": "string", "format": "uri"}
          }
        },
        "colors": {
          "type": "object",
          "required": ["primary", "text"],
          "properties": {
            "primary": {"type": "string", "pattern": "^#[0-9A-Fa-f]{6}$"},
            "secondary": {"type": "string", "pattern": "^#[0-9A-Fa-f]{6}$"},
            "accent": {"type": "string", "pattern": "^#[0-9A-Fa-f]{6}$"},
            "text": {"type": "string", "pattern": "^#[0-9A-Fa-f]{6}$"}
          }
        },
        "typography": {
          "type": "object",
          "properties": {
            "primary_font": {"type": "string"},
            "heading_font": {"type": "string"}
          }
        }
      }
    },
    "categories": {
      "type": "object",
      "description": "Official brand category hierarchy",
      "required": ["main_categories"],
      "properties": {
        "main_categories": {
          "type": "array",
          "description": "Top-level categories from brand navigation",
          "items": {
            "type": "object",
            "required": ["id", "name", "slug"],
            "properties": {
              "id": {"type": "string"},
              "name": {"type": "string"},
              "slug": {"type": "string"},
              "icon": {"type": "string"},
              "description": {"type": "string"},
              "url": {"type": "string", "format": "uri"},
              "subcategories": {
                "type": "array",
                "items": {
                  "type": "object",
                  "required": ["id", "name", "slug"],
                  "properties": {
                    "id": {"type": "string"},
                    "name": {"type": "string"},
                    "slug": {"type": "string"},
                    "url": {"type": "string", "format": "uri"},
                    "keywords": {
                      "type": "array",
                      "items": {"type": "string"}
                    }
                  }
                }
              }
            }
          }
        },
        "category_mapping": {
          "type": "object",
          "description": "Maps product-level categories to main categories",
          "additionalProperties": {"type": "string"}
        }
      }
    },
    "display_rules": {
      "type": "object",
      "description": "UI presentation and behavior rules",
      "properties": {
        "product_card": {
          "type": "object",
          "properties": {
            "show_brand_badge": {"type": "boolean"},
            "show_category_badge": {"type": "boolean"},
            "image_aspect_ratio": {"type": "string"},
            "hover_effect": {"type": "string"}
          }
        },
        "category_filter": {
          "type": "object",
          "properties": {
            "show_counts": {"type": "boolean"},
            "collapse_subcategories": {"type": "boolean"},
            "max_visible": {"type": "number"}
          }
        },
        "brand_page": {
          "type": "object",
          "properties": {
            "layout": {"type": "string", "enum": ["grid", "list", "masonry"]},
            "default_sort": {"type": "string"},
            "show_hero": {"type": "boolean"}
          }
        }
      }
    },
    "metadata": {
      "type": "object",
      "properties": {
        "founded": {"type": "number"},
        "headquarters": {"type": "string"},
        "website": {"type": "string", "format": "uri"},
        "description": {"type": "string"},
        "tagline": {"type": "string"}
      }
    }
  }
}
